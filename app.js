webpackJsonp([1],[function(t,e,n){t.exports=n(334)},,,,,,[480,291],,,function(t,e){"use strict";e["default"]=function(t){return t&&t.__esModule?t:{"default":t}},e.__esModule=!0},,,,,function(t,e){"use strict";e["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},e.__esModule=!0},,,function(t,e,n){"use strict";var r=n(142)["default"];e["default"]=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),r(t,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),e.__esModule=!0},,,function(t,e,n){"use strict";var r=n(276)["default"];e["default"]=function(t,e,n){for(var o=!0;o;){var i=t,a=e,u=n;s=l=c=void 0,o=!1,null===i&&(i=Function.prototype);var s=r(i,a);if(void 0!==s){if("value"in s)return s.value;var c=s.get;return void 0===c?void 0:c.call(u)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;t=l,e=a,n=u,o=!0}},e.__esModule=!0},function(t,e,n){"use strict";var r=n(275)["default"];e["default"]=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=r(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},e.__esModule=!0},,,,,,,,,,,,,function(t,e){function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=n},,,,,function(t,e,n){t.exports={"default":n(283),__esModule:!0}},[479,6,143,93,52,145],function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&r>=t}var r=9007199254740991;t.exports=n},,,,,,,,,,function(t,e,n){"use strict";var r=n(39)["default"];e["default"]=r||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e.__esModule=!0},[484,6,145,94],,function(t,e){function n(t){return!!t&&"object"==typeof t}t.exports=n},function(t,e,n){var r=n(151),o=n(41),i=n(54),a="[object Array]",u=Object.prototype,s=u.toString,c=r(Array,"isArray"),l=c||function(t){return i(t)&&o(t.length)&&s.call(t)==a};t.exports=l},,,,,,,,,,,,,,,function(t,e,n){function r(t,e){return function(){return t.apply(e,arguments)}}function o(t,e,n){var i,c,l,f,p=t&o.G,h=t&o.P,d=p?a:t&o.S?a[e]:(a[e]||{}).prototype,v=p?u:u[e]||(u[e]={});p&&(n=e);for(i in n)c=!(t&o.F)&&d&&i in d,c&&i in v||(l=c?d[i]:n[i],p&&!s(d[i])?f=n[i]:t&o.B&&c?f=r(l,a):t&o.W&&d[i]==l?!function(t){f=function(e){return this instanceof t?new t(e):t(e)},f.prototype=t.prototype}(l):f=h&&s(l)?r(Function.call,l):l,v[i]=f,h&&((v.prototype||(v.prototype={}))[i]=l))}var i=n(6),a=i.g,u=i.core,s=i.isFunction;o.F=1,o.G=2,o.S=4,o.P=8,o.B=16,o.W=32,t.exports=o},function(t,e,n){var r=n(151),o=n(97),i=n(34),a=n(324),u=r(Object,"keys"),s=u?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&o(t)?a(t):i(t)?u(t):[]}:a;t.exports=s},function(t,e,n){(function(){"use strict";var r=n(39)["default"],o=n(9)["default"];Object.defineProperty(e,"__esModule",{value:!0});var i=n(33),a=o(i),u={getProps:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;e>o;o++)n[o-1]=arguments[o];var i={_animation:{},style:{}};return t._base&&r(i,t._base),t._animation&&r(i._animation,t._animation),n.length&&r(i,n.reduce(function(t,e){return t.hasOwnProperty(e)?(t[e].hasOwnProperty("_base")&&r(i,t[e]._base),t[e].hasOwnProperty("_animation")&&r(i._animation,t[e]._animation),a["default"].omit(t[e],"_animation")):{}},t)),i},getIn:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];return n.reduce(function(t,e){return t.hasOwnProperty(e)?t[e]:{}},t)},getFrames:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;e>o;o++)n[o-1]=arguments[o];var i=u.getProps.apply(u,[t].concat(n)),a=i._animation,s=i._frames;return r({},a,{frames:s.map(function(t,e){return r({},i,t)})})},generateFrames:function(t,e,n,r){for(var o=[],i=0;t>i;i++)if(0===i)o.push(a["default"].cloneDeep(r));else{var u=a["default"].cloneDeep(o[i-1]);"x"===e&&(u.pos[0]+=n),"y"===e&&(u.pos[1]+=n),o.push(u)}return o}};e["default"]=u,t.exports=e["default"]}).call(this)},,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(272)["default"];e["default"]=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return r(t)},e.__esModule=!0},[470,6],[483,6],[489,6,296,94,40,144],function(t,e,n){function r(t,e,n){if("function"!=typeof t)return o;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)};case 5:return function(n,r,o,i,a){return t.call(e,n,r,o,i,a)}}return function(){return t.apply(e,arguments)}}var o=n(330);t.exports=r},function(t,e,n){function r(t){return null!=t&&i(o(t))}var o=n(150),i=n(41);t.exports=r},function(t,e){function n(t,e){return t="number"==typeof t||r.test(t)?+t:-1,e=null==e?o:e,t>-1&&t%1==0&&e>t}var r=/^\d+$/,o=9007199254740991;t.exports=n},function(t,e,n){(function(){"use strict";var r=n(17)["default"],o=n(14)["default"],i=n(9)["default"];Object.defineProperty(e,"__esModule",{value:!0});var a=n(155),u=i(a),s={},c=function(){function t(){o(this,t)}return r(t,[{key:"renderLayer",value:function(t){this.dispatch(t)}},{key:"startWalk",value:function(t){var e=this;this.dispatch(t),s[t]=!0,window.requestAnimationFrame(function(){e.actions.walk(t)})}},{key:"walk",value:function(t){var e=this;this.dispatch(t),window.requestAnimationFrame(function(){s[t]&&e.actions.walk(t)})}},{key:"stopWalk",value:function(t){s[t]=!1,this.dispatch(t)}},{key:"startAttack",value:function(){this.dispatch()}},{key:"stopAttack",value:function(){this.dispatch()}}]),t}();e["default"]=u["default"].createActions(c),t.exports=e["default"]}).call(this)},function(t,e,n){(function(){"use strict";var r=n(20)["default"],o=n(21)["default"],i=n(17)["default"],a=n(14)["default"],u=n(39)["default"],s=n(9)["default"];Object.defineProperty(e,"__esModule",{value:!0});var c=n(8),l=s(c),f=function(t){function e(){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return o(e,t),i(e,[{key:"getStyle",value:function(){var t=u({},{width:this.props.bounds?this.props.bounds[0]:this.props.size[0],height:this.props.bounds?this.props.bounds[1]:this.props.size[0]},this.props.style||{});return this.props.flipH&&(t.transform=(t.transform||"")+" rotateY(180deg)"),this.props.flipV&&(t.transform=(t.transform||"")+" rotateX(180deg)"),t}},{key:"getImgStyle",value:function(){var t={width:this.props.size[0],height:this.props.size[1],backgroundRepeat:"no-repeat"};return this.props.background&&(t.background=this.props.background),this.props.url&&(t.backgroundImage="url("+this.props.url+")",this.props.pos&&(t.backgroundPosition="-"+this.props.pos[0]+"px -"+this.props.pos[1]+"px")),this.props.off&&(this.props.off[0]>0||1/this.props.off[0]===+(1/0)?t.left=this.props.off[0]+"px":t.right=this.props.off[0]+"px",this.props.off[1]>0||1/this.props.off[1]===+(1/0)?t.top=this.props.off[1]+"px":t.bottom=this.props.off[1]+"px"),this.props.transform&&(t.transform=this.props.transform),t}},{key:"render",value:function(){return l["default"].createElement("div",{className:"sprite "+(this.props.className||""),style:this.getStyle()},l["default"].createElement("div",{className:"sprite-img",style:this.getImgStyle()}))}}],[{key:"propTypes",value:{style:l["default"].PropTypes.object,className:l["default"].PropTypes.string,bounds:l["default"].PropTypes.array,flipH:l["default"].PropTypes.bool,flipV:l["default"].PropTypes.bool,size:l["default"].PropTypes.array.isRequired,background:l["default"].PropTypes.string,url:l["default"].PropTypes.string,pos:l["default"].PropTypes.array,off:l["default"].PropTypes.array,transform:l["default"].PropTypes.string},enumerable:!0}]),e}(l["default"].Component);e["default"]=f,t.exports=e["default"]}).call(this)},function(t,e,n){(function(){"use strict";var t=n(9)["default"];Object.defineProperty(e,"__esModule",{value:!0});var r=n(348),o=t(r),i=n(349),a=t(i),u=n(350),s=t(u);e.cliffsWater=o["default"],e.hero=a["default"],e.overworld=s["default"],e["default"]={cliffsWater:o["default"],hero:a["default"],overworld:s["default"]}}).call(this)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){t.exports={"default":n(285),__esModule:!0}},[472,6,52],[477,143,70,295,6,40,52],[481,6],function(t,e,n){var r=n(6).core,o=n(40);r.isIterable=o.is,r.getIterator=o.get},[488,6,70,292],[490,299,6,40,52],,function(t,e,n){var r=n(315),o=r("length");t.exports=o},function(t,e,n){function r(t,e){var n=null==t?void 0:t[e];return o(n)?n:void 0}var o=n(326);t.exports=r},function(t,e,n){function r(t){return o(t)?t:Object(t)}var o=n(34);t.exports=r},function(t,e,n){function r(t){return i(t)&&o(t)&&u.call(t,"callee")&&!s.call(t,"callee")}var o=n(97),i=n(54),a=Object.prototype,u=a.hasOwnProperty,s=a.propertyIsEnumerable;t.exports=r},function(t,e,n){function r(t,e,n,r){n="function"==typeof n?i(n,r,3):void 0;var a=n?n(t,e):void 0;return void 0===a?o(t,e,n):!!a}var o=n(313),i=n(96);t.exports=r},function(t,e,n){(function(){"use strict";var r=n(9)["default"];Object.defineProperty(e,"__esModule",{value:!0});var o=n(126),i=r(o),a=new i["default"];e["default"]=a,t.exports=e["default"]}).call(this)},function(t,e,n){(function(){"use strict";var t=n(39)["default"],r=n(9)["default"];Object.defineProperty(e,"__esModule",{value:!0});var o=n(33),i=r(o),a=[{symbol:"-",type:"grass",sprite:"overworld",path:["tiles","grass"],hitbox:[0,0,16,16],decorations:function(){var t=Math.random();return t>.95?[{type:"flower",style:{top:3+5*Math.random(),left:2+5*Math.random(),opacity:.3+.4*Math.random(),transform:"scale("+(.5+.5*Math.random())+")"}}]:t>.9?[{type:"spot",style:{top:3+5*Math.random(),left:2+5*Math.random(),opacity:.5+.5*Math.random()}}]:[]}},{symbol:"l",type:"leaves",sprite:"overworld",path:["tiles","leaves"],hitbox:[0,0,16,16]},{symbol:"b",type:"bush",sprite:"overworld",path:["tiles","bush"],solid:!0,destructable:!0,destructTo:"leaves",hitbox:[0,0,16,16]},{symbol:"w",type:"water",sprite:"overworld",path:["tiles","water"],solid:!0,hitbox:[0,0,16,16],decorations:function(){var t=Math.random();return t>.92?[{sprite:"cliffsWater",type:"bubbles0",style:{top:3+5*Math.random(),left:2+5*Math.random(),opacity:.5+.5*Math.random()}}]:t>.87?[{sprite:"cliffsWater",type:"bubbles1",style:{top:3+5*Math.random(),left:2+5*Math.random(),opacity:.5+.5*Math.random()}}]:t>.82?[{sprite:"cliffsWater",type:"bubbles2",style:{top:3+5*Math.random(),left:2+5*Math.random(),opacity:.5+.5*Math.random()}}]:t>.7?[{sprite:"cliffsWater",type:"bubbles3",style:{top:3+5*Math.random(),left:2+5*Math.random(),opacity:.5+.5*Math.random()}}]:[]}},{symbol:"t",type:"tree-trunk",sprite:"overworld",path:["tiles","tree-trunk"],solid:!0,hitbox:[-16,-16,32,32]},{symbol:"T",type:"tree",sprite:"overworld",path:["tiles","tree"],solid:!0,hitbox:[-16,-16,32,32]}],u=function(t){return l(i["default"].findWhere(a,{symbol:t}))},s=function(t){return l(i["default"].findWhere(a,{type:t}))},c=function(e){if(e.decorations){var n="function"==typeof e.decorations?e.decorations():e.decorations;return n.map(function(n){return t({},{sprite:e.sprite,path:e.path.concat(["decorations",n.type])},n)})}return null},l=function(t){var e=i["default"].omit(t,"decorations");return t.decorations&&(e.decorations=c(t)),e};e["default"]=a,e.tileFromSymbol=u,e.tileFromType=s}).call(this)},,,,,function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{"default":t}},o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),a=r(i),u=a["default"].createClass({displayName:"FocusTrap",propTypes:{onFocus:a["default"].PropTypes.func,onBlur:a["default"].PropTypes.func,focusName:a["default"].PropTypes.string},render:function(){return a["default"].createElement("div",o({tabIndex:"-1"},this.props),this.props.children)}});e["default"]=u,t.exports=e["default"]},function(t,e,n){"use strict";function r(){var t=void 0===arguments[0]?{}:arguments[0];return{contextTypes:{hotKeyMap:a["default"].PropTypes.object},childContextTypes:{hotKeyMap:a["default"].PropTypes.object},getChildContext:function(){return{hotKeyMap:this.__hotKeyMap__}},componentWillMount:function(){this.updateMap()},updateMap:function(){var t=this.buildMap();return l["default"](t,this.__hotKeyMap__)?!1:(this.__hotKeyMap__=t,!0)},buildMap:function(){var e=this.context.hotKeyMap||{},n=this.props.keyMap||{};return s["default"]({},e,t,n)},getMap:function(){return this.__hotKeyMap__}}}var o=function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r;var i=n(8),a=o(i),u=n(328),s=o(u),c=n(154),l=o(c);t.exports=e["default"]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=void 0===arguments[1]?t:arguments[1];return function(){if(!u.isFunction(t.getStores))throw new Error("connectToStores() expects the wrapped component to have a static getStores() method");if(!u.isFunction(t.getPropsFromStores))throw new Error("connectToStores() expects the wrapped component to have a static getPropsFromStores() method");var n=a["default"].createClass({displayName:"StoreConnection",getInitialState:function(){return t.getPropsFromStores(this.props,this.context)},componentWillReceiveProps:function(e){this.setState(t.getPropsFromStores(e,this.context))},componentDidMount:function(){var e=this,n=t.getStores(this.props,this.context);this.storeListeners=n.map(function(t){return t.listen(e.onChange)}),t.componentDidConnect&&t.componentDidConnect(this.props,this.context)},componentWillUnmount:function(){this.storeListeners.forEach(function(t){return t()})},onChange:function(){this.setState(t.getPropsFromStores(this.props,this.context))},render:function(){return a["default"].createElement(e,u.assign({},this.props,this.state))}});return n}()}Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),a=r(i),u=n(32);e["default"]=o,t.exports=e["default"]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){t.exports={"default":n(280),__esModule:!0}},function(t,e,n){t.exports={"default":n(281),__esModule:!0}},function(t,e,n){t.exports={"default":n(282),__esModule:!0}},function(t,e,n){t.exports={"default":n(284),__esModule:!0}},function(t,e,n){t.exports={"default":n(286),__esModule:!0}},function(t,e,n){t.exports={"default":n(287),__esModule:!0}},function(t,e,n){"use strict";var r=n(142)["default"];e["default"]=function(){function t(t,e,n){for(var o=0;o<e.length;o++){var i=e[o],a=i.decorators,u=i.key;if(delete i.key,delete i.decorators,i.enumerable=i.enumerable||!1,i.configurable=!0,("value"in i||i.initializer)&&(i.writable=!0),a){for(var s=0;s<a.length;s++){var c=a[s];if("function"!=typeof c)throw new TypeError("The decorator for method "+i.key+" is of the invalid type "+typeof c);i=c(t,u,i)||i}if(void 0!==i.initializer){n[u]=i;continue}}r(t,u,i)}}return function(e,n,r,o,i){return n&&t(e.prototype,n,o),r&&t(e,r,i),e}}(),e.__esModule=!0},function(t,e,n){"use strict";var r=n(273)["default"],o=n(274)["default"];e["default"]=function(){function t(t,e){var n=[],o=!0,i=!1,a=void 0;try{for(var u,s=r(t);!(o=(u=s.next()).done)&&(n.push(u.value),!e||n.length!==e);o=!0);}catch(c){i=!0,a=c}finally{try{!o&&s["return"]&&s["return"]()}finally{if(i)throw a}}return n}return function(e,n){if(Array.isArray(e))return e;if(o(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e.__esModule=!0},function(t,e,n){n(95),n(298),t.exports=n(6).core.Array.from},function(t,e,n){n(148),n(95),n(146),t.exports=n(6).core.getIterator},function(t,e,n){n(148),n(95),n(146),t.exports=n(6).core.isIterable},function(t,e,n){n(300),t.exports=n(6).core.Object.assign},function(t,e,n){var r=n(6);t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(6);t.exports=function(t,e,n){return r.setDesc(t,e,n)}},function(t,e,n){var r=n(6);n(147),t.exports=function(t,e){return r.getDesc(t,e)}},function(t,e,n){n(147),t.exports=n(6).core.Object.keys},[471,6,290],[473,93],[474,6],function(t,e){t.exports=function(t){return t.FW=!1,t.path=t.core,t}},[475,6],[476,93],[478,52],function(t,e,n){t.exports=n(6).hide},[482,6],function(t,e){t.exports=function(){}},[485,40,6,289,70,293,294],[486,6,297,94,40,144],[487,70,288],,,function(t,e,n){var r=n(305),o=n(310),i=n(319),a=i(r,o);t.exports=a},function(t,e){function n(t,e){if("function"!=typeof t)throw new TypeError(r);return e=o(void 0===e?t.length-1:+e||0,0),function(){for(var n=arguments,r=-1,i=o(n.length-e,0),a=Array(i);++r<i;)a[r]=n[e+r];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,n[0],a);case 2:return t.call(this,n[0],n[1],a)}var u=Array(e+1);for(r=-1;++r<e;)u[r]=n[r];return u[e]=a,t.apply(this,u)}}var r="Expected a function",o=Math.max;t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}t.exports=n},function(t,e,n){function r(t,e,n){for(var r=-1,i=o(e),a=i.length;++r<a;){var u=i[r],s=t[u],c=n(s,e[u],u,t,e);(c===c?c===s:s!==s)&&(void 0!==s||u in t)||(t[u]=c)}return t}var o=n(71);t.exports=r},function(t,e,n){function r(t,e){return null==e?t:o(e,i(e),t)}var o=n(309),i=n(71);t.exports=r},function(t,e){function n(t,e,n){n||(n={});for(var r=-1,o=e.length;++r<o;){var i=e[r];n[i]=t[i]}return n}t.exports=n},function(t,e,n){var r=n(312),o=n(317),i=o(r);t.exports=i},function(t,e,n){var r=n(318),o=r();t.exports=o},function(t,e,n){function r(t,e){return o(t,e,i)}var o=n(311),i=n(71);t.exports=r},function(t,e,n){function r(t,e,n,u,s,c){return t===e?!0:null==t||null==e||!i(t)&&!a(e)?t!==t&&e!==e:o(t,e,r,n,u,s,c)}var o=n(314),i=n(34),a=n(54);t.exports=r},function(t,e,n){function r(t,e,n,r,p,v,y){var g=u(t),m=u(e),_=l,b=l;g||(_=d.call(t),_==c?_=f:_!=f&&(g=s(t))),m||(b=d.call(e),b==c?b=f:b!=f&&(m=s(e)));var w=_==f,x=b==f,E=_==b;if(E&&!g&&!w)return i(t,e,_);if(!p){var C=w&&h.call(t,"__wrapped__"),O=x&&h.call(e,"__wrapped__");if(C||O)return n(C?t.value():t,O?e.value():e,r,p,v,y)}if(!E)return!1;v||(v=[]),y||(y=[]);for(var S=v.length;S--;)if(v[S]==t)return y[S]==e;v.push(t),y.push(e);var M=(g?o:a)(t,e,n,r,p,v,y);return v.pop(),y.pop(),M}var o=n(320),i=n(321),a=n(322),u=n(55),s=n(327),c="[object Arguments]",l="[object Array]",f="[object Object]",p=Object.prototype,h=p.hasOwnProperty,d=p.toString;t.exports=r},function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}t.exports=n},function(t,e,n){function r(t){return a(function(e,n){var r=-1,a=null==e?0:n.length,u=a>2?n[a-2]:void 0,s=a>2?n[2]:void 0,c=a>1?n[a-1]:void 0;for("function"==typeof u?(u=o(u,c,5),a-=2):(u="function"==typeof c?c:void 0,a-=u?1:0),s&&i(n[0],n[1],s)&&(u=3>a?void 0:u,a=1);++r<a;){var l=n[r];l&&t(e,l,u)}return e})}var o=n(96),i=n(323),a=n(304);t.exports=r},function(t,e,n){function r(t,e){return function(n,r){var u=n?o(n):0;if(!i(u))return t(n,r);for(var s=e?u:-1,c=a(n);(e?s--:++s<u)&&r(c[s],s,c)!==!1;);return n}}var o=n(150),i=n(41),a=n(152);t.exports=r},function(t,e,n){function r(t){return function(e,n,r){for(var i=o(e),a=r(e),u=a.length,s=t?u:-1;t?s--:++s<u;){var c=a[s];if(n(i[c],c,i)===!1)break}return e}}var o=n(152);t.exports=r},function(t,e,n){function r(t,e){return function(n,r,a){return"function"==typeof r&&void 0===a&&i(n)?t(n,r):e(n,o(r,a,3))}}var o=n(96),i=n(55);t.exports=r},function(t,e,n){function r(t,e,n,r,i,a,u){var s=-1,c=t.length,l=e.length;if(c!=l&&!(i&&l>c))return!1;for(;++s<c;){var f=t[s],p=e[s],h=r?r(i?p:f,i?f:p,s):void 0;if(void 0!==h){if(h)continue;return!1}if(i){if(!o(e,function(t){return f===t||n(f,t,r,i,a,u)}))return!1}else if(f!==p&&!n(f,p,r,i,a,u))return!1}return!0}var o=n(306);t.exports=r},function(t,e){function n(t,e,n){switch(n){case r:case o:return+t==+e;case i:return t.name==e.name&&t.message==e.message;case a:return t!=+t?e!=+e:t==+e;case u:case s:return t==e+""}return!1}var r="[object Boolean]",o="[object Date]",i="[object Error]",a="[object Number]",u="[object RegExp]",s="[object String]";t.exports=n},function(t,e,n){function r(t,e,n,r,i,u,s){var c=o(t),l=c.length,f=o(e),p=f.length;if(l!=p&&!i)return!1;for(var h=l;h--;){var d=c[h];if(!(i?d in e:a.call(e,d)))return!1}for(var v=i;++h<l;){d=c[h];var y=t[d],g=e[d],m=r?r(i?g:y,i?y:g,d):void 0;if(!(void 0===m?n(y,g,r,i,u,s):m))return!1;v||(v="constructor"==d)}if(!v){var _=t.constructor,b=e.constructor;if(_!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b))return!1}return!0}var o=n(71),i=Object.prototype,a=i.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e,n){if(!a(n))return!1;var r=typeof e;if("number"==r?o(n)&&i(e,n.length):"string"==r&&e in n){var u=n[e];return t===t?t===u:u!==u}return!1}var o=n(97),i=n(98),a=n(34);t.exports=r},function(t,e,n){function r(t){for(var e=s(t),n=e.length,r=n&&t.length,c=!!r&&u(r)&&(i(t)||o(t)),f=-1,p=[];++f<n;){var h=e[f];(c&&a(h,r)||l.call(t,h))&&p.push(h)}return p}var o=n(153),i=n(55),a=n(98),u=n(41),s=n(329),c=Object.prototype,l=c.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){return o(t)&&u.call(t)==i}var o=n(34),i="[object Function]",a=Object.prototype,u=a.toString;t.exports=r},function(t,e,n){function r(t){return null==t?!1:o(t)?l.test(s.call(t)):i(t)&&a.test(t)}var o=n(325),i=n(54),a=/^\[object .+?Constructor\]$/,u=Object.prototype,s=Function.prototype.toString,c=u.hasOwnProperty,l=RegExp("^"+s.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){function r(t){return i(t)&&o(t.length)&&!!k[D.call(t)]}var o=n(41),i=n(54),a="[object Arguments]",u="[object Array]",s="[object Boolean]",c="[object Date]",l="[object Error]",f="[object Function]",p="[object Map]",h="[object Number]",d="[object Object]",v="[object RegExp]",y="[object Set]",g="[object String]",m="[object WeakMap]",_="[object ArrayBuffer]",b="[object Float32Array]",w="[object Float64Array]",x="[object Int8Array]",E="[object Int16Array]",C="[object Int32Array]",O="[object Uint8Array]",S="[object Uint8ClampedArray]",M="[object Uint16Array]",P="[object Uint32Array]",k={};k[b]=k[w]=k[x]=k[E]=k[C]=k[O]=k[S]=k[M]=k[P]=!0,k[a]=k[u]=k[_]=k[s]=k[c]=k[l]=k[f]=k[p]=k[h]=k[d]=k[v]=k[y]=k[g]=k[m]=!1;var I=Object.prototype,D=I.toString;t.exports=r},function(t,e,n){var r=n(307),o=n(308),i=n(316),a=i(function(t,e,n){return n?r(t,e,n):o(t,e)});t.exports=a},function(t,e,n){function r(t){if(null==t)return[];s(t)||(t=Object(t));var e=t.length;e=e&&u(e)&&(i(t)||o(t))&&e||0;for(var n=t.constructor,r=-1,c="function"==typeof n&&n.prototype===t,f=Array(e),p=e>0;++r<e;)f[r]=r+"";for(var h in t)p&&a(h,e)||"constructor"==h&&(c||!l.call(t,h))||f.push(h);return f}var o=n(153),i=n(55),a=n(98),u=n(41),s=n(34),c=Object.prototype,l=c.hasOwnProperty;t.exports=r},function(t,e){function n(t){return t}t.exports=n},,,,function(t,e,n){(function(){"use strict";var t=n(9)["default"],e=n(175),r=t(e),o=n(347),i=t(o);n(149),window.perf=r["default"].addons.Perf,window.onload=function(){i["default"].run(function(t){r["default"].render(r["default"].createElement(t,null),document.getElementById("app"))})}}).call(this)},function(t,e,n){(function(){"use strict";var r=n(20)["default"],o=n(21)["default"],i=n(17)["default"],a=n(14)["default"],u=n(51)["default"],s=n(9)["default"];Object.defineProperty(e,"__esModule",{value:!0});var c=n(8),l=s(c),f=n(100),p=s(f),h=function(t){function e(){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments),this.state={animating:!1,frame:this.props.rest,asc:!0}}return o(e,t),i(e,[{key:"componentWillMount",value:function(){this.props.play&&this.startAnimating()}},{key:"componentWillReceiveProps",value:function(t){t.name!==this.props.name&&this.setState({frame:this.state.animating?t.start:t.rest,asc:!0}),!t.play||this.props.play||this.state.animating?!t.play&&this.props.play&&this.state.animating&&this.stopAnimating():this.startAnimating()}},{key:"startAnimating",value:function(){var t=this;window.requestAnimationFrame(function(e){t.state.animating||(t.setState({frame:t.props.start,animating:!0}),t.animationStep())})}},{key:"animationStep",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],n=arguments.length<=1||void 0===arguments[1]?0:arguments[1];e||(0===this.state.frame&&this.setState({asc:!0}),this.state.frame<this.props.frames.length-1?this.setState({frame:this.state.asc?this.state.frame+1:this.state.frame-1}):this.props.loop?this.props.snake?this.setState({frame:this.state.frame-1,asc:!1}):this.setState({frame:0}):this.stopAnimating()),this.state.animating&&window.requestAnimationFrame(function(e){var r=e%(1e3/t.props.fps);t.animationStep(r>n,r)})}},{key:"stopAnimating",value:function(){this.state.animating&&this.setState({frame:this.props.rest,animating:!1})}},{key:"render",value:function(){return l["default"].createElement(p["default"],u({className:this.props.className},this.props.frames[this.state.frame]))}}],[{key:"propTypes",value:{name:l["default"].PropTypes.string.isRequired,frames:l["default"].PropTypes.array.isRequired,className:l["default"].PropTypes.string,play:l["default"].PropTypes.bool,rest:l["default"].PropTypes.number,start:l["default"].PropTypes.number,fps:l["default"].PropTypes.number,loop:l["default"].PropTypes.bool,snake:l["default"].PropTypes.bool},enumerable:!0},{key:"defaultProps",value:{play:!1,rest:0,start:0,fps:12,loop:!0,snake:!0},enumerable:!0}]),e}(l["default"].Component);e["default"]=h,t.exports=e["default"]}).call(this)},function(t,e,n){(function(){"use strict";var r=n(20)["default"],o=n(21)["default"],i=n(17)["default"],a=n(14)["default"],u=n(51)["default"],s=n(9)["default"];Object.defineProperty(e,"__esModule",{value:!0});var c=n(8),l=s(c),f=n(56),p=s(f),h=n(57),d=s(h),v=n(72),y=s(v),g=n(101),m=s(g),_=n(100),b=s(_),w=n(335),x=s(w),E=function(t){function e(){a(this,n),r(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(e,t),i(e,[{key:"render",value:function(){var t=m["default"][this.props.sprite],e=this.props.style?this.props.style.toJS():{};if(this.props.position){var n=this.props.position.toJS(),r=n.x,o=n.y;e.transform=(e.transform||"")+(" translate("+r+"px, "+o+"px)")}if(this.props.animated){var i=this.props.pose+":"+this.props.facing,a=y["default"].getFrames(t,"poses",this.props.pose,this.props.facing);return l["default"].createElement("div",{className:"character animated "+(this.props.className||""),style:e},l["default"].createElement(x["default"],u({name:i,play:this.props.play},a)))}var s=y["default"].getProps(t,"poses",this.props.pose,this.props.facing);return l["default"].createElement("div",{className:"character"+(this.props.className||""),style:e},l["default"].createElement(b["default"],s))}}],[{key:"propTypes",value:{className:l["default"].PropTypes.string,sprite:l["default"].PropTypes.string.isRequired,facing:l["default"].PropTypes.string.isRequired,pose:l["default"].PropTypes.string.isRequired,position:d["default"].map,animated:l["default"].PropTypes.bool,play:l["default"].PropTypes.bool,style:d["default"].map},enumerable:!0}]);var n=e;return e=p["default"](e)||e}(l["default"].Component);e["default"]=E,t.exports=e["default"]}).call(this)},function(t,e,n){(function(){"use strict";var r=n(20)["default"],o=n(21)["default"],i=n(17)["default"],a=n(14)["default"],u=n(51)["default"],s=n(9)["default"];Object.defineProperty(e,"__esModule",{value:!0});var c=n(8),l=s(c),f=n(53),p=s(f),h=n(57),d=s(h),v=n(56),y=s(v),g=n(99),m=s(g),_=n(339),b=s(_),w=n(336),x=s(w),E=function(t){function e(){a(this,n),r(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(e,t),i(e,[{key:"componentWillMount",value:function(){m["default"].renderLayer.defer(this.props.index)}},{key:"componentWillUpdate",value:function(){m["default"].renderLayer.defer(this.props.index)}},{key:"render",value:function(){return l["default"].createElement("div",{className:"layer",style:this.props.style.toJS()},this.props.tiles.map(function(t,e){return l["default"].createElement(b["default"],u({key:"tile-"+e},t.toObject()))}),this.props.characters.map(function(t,e){return l["default"].createElement(x["default"],u({key:"character-"+e},t.toObject()))}))}}],[{key:"propTypes",value:{index:l["default"].PropTypes.number,style:d["default"].map,tiles:d["default"].list,characters:d["default"].list},enumerable:!0},{key:"defaultProps",value:{style:p["default"].Map({}),tiles:p["default"].List([]),characters:p["default"].List([])},enumerable:!0}]);var n=e;return e=y["default"](e)||e}(l["default"].Component);e["default"]=E,t.exports=e["default"]}).call(this)},function(t,e,n){(function(){"use strict";var r=n(20)["default"],o=n(21)["default"],i=n(17)["default"],a=n(14)["default"],u=n(9)["default"];Object.defineProperty(e,"__esModule",{value:!0});var s=n(8),c=u(s),l=n(179),f=u(l),p=function(t){function e(){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return o(e,t),i(e,[{key:"render",value:function(){return c["default"].createElement(f["default"],{transitionName:"menu",transitionAppear:!0},c["default"].createElement("div",{className:"menu"},c["default"].createElement("h2",null,this.props.title),this.props.children))}}],[{key:"propTypes",value:{title:c["default"].PropTypes.string,children:c["default"].PropTypes.node},enumerable:!0}]),e}(c["default"].Component);e["default"]=p,t.exports=e["default"]}).call(this)},function(t,e,n){(function(){"use strict";var r=n(20)["default"],o=n(21)["default"],i=n(17)["default"],a=n(14)["default"],u=n(92)["default"],s=n(51)["default"],c=n(39)["default"],l=n(9)["default"];Object.defineProperty(e,"__esModule",{value:!0});var f=n(8),p=l(f),h=n(33),d=l(h),v=n(56),y=l(v),g=n(57),m=l(g),_=n(72),b=l(_),w=n(101),x=l(w),E=n(100),C=l(E),O=function(t){function e(){a(this,n),r(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(e,t),i(e,[{key:"renderEdges",value:function(){var t=this,e=x["default"][this.props.sprite];return this.props.edges?d["default"].map(this.props.edges.toJS(),function(n,r){return p["default"].createElement("div",{key:"edges-"+r,className:"edges edges-"+r},n.map(function(n){var o=b["default"].getProps.apply(null,[e].concat(u(t.props.path.toArray()),["edges",r,n]));return p["default"].createElement(C["default"],s({key:"edge-"+r+"-"+n},o))}))}):null}},{key:"renderDecorations",value:function(){return this.props.decorations?p["default"].createElement("div",{className:"decorations"},this.props.decorations.toJS().map(function(t,e){var n=x["default"][t.sprite],r=b["default"].getProps.apply(null,[n].concat(u(t.path)));return t.style&&(r.style=c({},r.style,t.style)),p["default"].createElement(C["default"],s({key:"decoration-"+e},r))})):null}},{key:"render",value:function(){var t="tile "+(this.props.className||""),e=this.props.style?this.props.style.toJS():{},n=x["default"][this.props.sprite],r=b["default"].getProps.apply(null,[n].concat(u(this.props.path.toArray())));if(this.props.position){var o=this.props.position.toJS(),i=o.x,a=o.y;e.transform=(e.transform||"")+(" translate("+i+"px, "+a+"px)")}return p["default"].createElement("div",{className:t,style:e},p["default"].createElement(C["default"],r),this.renderEdges(),this.renderDecorations())}}],[{key:"propTypes",value:{className:p["default"].PropTypes.string,sprite:p["default"].PropTypes.string.isRequired,path:m["default"].list.isRequired,position:m["default"].map,style:m["default"].map,decorations:m["default"].list,edges:m["default"].map},enumerable:!0}]);var n=e;return e=y["default"](e)||e}(p["default"].Component);e["default"]=O,
t.exports=e["default"]}).call(this)},function(t,e,n){(function(){"use strict";function r(t){return function(e){e.preventDefault(),y.keysPressed[t]||(y.keysPressed[t]=!0,v["default"].startWalk(t))}}function o(t){return function(e){e.preventDefault(),y.keysPressed[t]=!1,v["default"].stopWalk(t)}}var i=n(20)["default"],a=n(21)["default"],u=n(17)["default"],s=n(14)["default"],c=n(9)["default"];Object.defineProperty(e,"__esModule",{value:!0});var l=n(8),f=c(l),p=n(76),h=n(368),d=n(99),v=c(d),y=function(t){function e(){s(this,e),i(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return a(e,t),u(e,[{key:"render",value:function(){return f["default"].createElement(h.HotKeys,{keyMap:e.hotKeyMap,handlers:e.hotKeyHandlers},f["default"].createElement("div",{className:"handler--app"},f["default"].createElement(p.RouteHandler,null),f["default"].createElement("img",{className:"background",src:"images/background.jpg"})))}}],[{key:"keysPressed",value:{},enumerable:!0},{key:"hotKeyMap",value:{upStart:{sequence:"up",action:"keydown"},upEnd:{sequence:"up",action:"keyup"},downStart:{sequence:"down",action:"keydown"},downEnd:{sequence:"down",action:"keyup"},leftStart:{sequence:"left",action:"keydown"},leftEnd:{sequence:"left",action:"keyup"},rightStart:{sequence:"right",action:"keydown"},rightEnd:{sequence:"right",action:"keyup"},attackStart:{sequence:"space",action:"keydown"},attackStop:{sequence:"space",action:"keyup"}},enumerable:!0},{key:"hotKeyHandlers",value:{upStart:r("up"),upEnd:o("up"),downStart:r("down"),downEnd:o("down"),leftStart:r("left"),leftEnd:o("left"),rightStart:r("right"),rightEnd:o("right"),attackStart:function(t){t.preventDefault(),e.keysPressed.attack||(e.keysPressed.attack=!0,v["default"].startAttack())},attackStop:function(t){t.preventDefault(),e.keysPressed.attack=!1,v["default"].stopAttack()}},enumerable:!0}]),e}(f["default"].Component);e["default"]=y,t.exports=e["default"]}).call(this)},function(t,e,n){(function(){"use strict";var r=n(20)["default"],o=n(21)["default"],i=n(17)["default"],a=n(14)["default"],u=n(51)["default"],s=n(9)["default"];Object.defineProperty(e,"__esModule",{value:!0});var c=n(8),l=s(c),f=n(57),p=s(f),h=n(56),d=s(h),v=n(216),y=s(v),g=n(351),m=s(g),_=n(337),b=s(_),w=function(t){function e(){a(this,n),r(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(e,t),i(e,[{key:"getStyle",value:function(){return{width:this.props.width,height:this.props.height}}},{key:"render",value:function(){return l["default"].createElement("div",{className:"handler--game"},l["default"].createElement("div",{className:"layers",style:this.getStyle()},this.props.layers.map(function(t,e){return l["default"].createElement(b["default"],u({key:"layer-"+e,index:e},t.toObject()))})))}}],[{key:"getStores",value:function(){return[m["default"]]}},{key:"getPropsFromStores",value:function(){return m["default"].getState()}},{key:"propTypes",value:{width:l["default"].PropTypes.number,height:l["default"].PropTypes.number,layers:p["default"].list},enumerable:!0}]);var n=e;return e=y["default"](e)||e,e=d["default"](e)||e}(l["default"].Component);e["default"]=w,t.exports=e["default"]}).call(this)},function(t,e,n){(function(){"use strict";var r=n(20)["default"],o=n(21)["default"],i=n(17)["default"],a=n(14)["default"],u=n(9)["default"];Object.defineProperty(e,"__esModule",{value:!0});var s=n(8),c=u(s),l=n(76),f=n(338),p=u(f),h=function(t){function e(){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return o(e,t),i(e,[{key:"render",value:function(){return c["default"].createElement("div",{className:"handler--home"},c["default"].createElement(p["default"],{title:"The Legend of Link"},c["default"].createElement(l.Link,{to:"game"},"Start Game")))}}]),e}(c["default"].Component);e["default"]=h,t.exports=e["default"]}).call(this)},function(t,e,n){(function(){"use strict";var r=n(20)["default"],o=n(21)["default"],i=n(17)["default"],a=n(14)["default"],u=n(9)["default"];Object.defineProperty(e,"__esModule",{value:!0});var s=n(8),c=u(s),l=function(t){function e(){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return o(e,t),i(e,[{key:"render",value:function(){return c["default"].createElement("div",{className:"handler--home"},c["default"].createElement("h1",null,"404 Page Not Found"),c["default"].createElement("p",null,"Sorry, we couldn't find what you were looking for."))}}]),e}(c["default"].Component);e["default"]=l,t.exports=e["default"]}).call(this)},function(t,e,n){(function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,r,o,i){var a;a=r?new e(t,0,o,i):new n(t,0,o,i),this.root=a}function e(t,e,n,r){this._bounds=t,this.children=[],this.nodes=[],r&&(this._maxChildren=r),n&&(this._maxDepth=n),e&&(this._depth=e)}function n(t,n,r,o){e.call(this,t,n,r,o),this._stuckChildren=[]}return t.prototype.root=null,t.prototype.insert=function(t){if(t instanceof Array){var e,n=t.length;for(e=0;n>e;e++)this.root.insert(t[e])}else this.root.insert(t)},t.prototype.clear=function(){this.root.clear()},t.prototype.retrieve=function(t){var e=this.root.retrieve(t).slice(0);return e},e.prototype.nodes=null,e.prototype._classConstructor=e,e.prototype.children=null,e.prototype._bounds=null,e.prototype._depth=0,e.prototype._maxChildren=4,e.prototype._maxDepth=4,e.TOP_LEFT=0,e.TOP_RIGHT=1,e.BOTTOM_LEFT=2,e.BOTTOM_RIGHT=3,e.prototype.insert=function(t){if(this.nodes.length){var e=this._findIndex(t);return void this.nodes[e].insert(t)}this.children.push(t);var n=this.children.length;if(!(this._depth>=this._maxDepth)&&n>this._maxChildren){this.subdivide();var r;for(r=0;n>r;r++)this.insert(this.children[r]);this.children.length=0}},e.prototype.retrieve=function(t){if(this.nodes.length){var e=this._findIndex(t);return this.nodes[e].retrieve(t)}return this.children},e.prototype._findIndex=function(t){var n=this._bounds,r=t.x>n.x+n.width/2?!1:!0,o=t.y>n.y+n.height/2?!1:!0,i=e.TOP_LEFT;return r?o||(i=e.BOTTOM_LEFT):i=o?e.TOP_RIGHT:e.BOTTOM_RIGHT,i},e.prototype.subdivide=function(){var t=this._depth+1,n=this._bounds.x,r=this._bounds.y,o=this._bounds.width/2|0,i=this._bounds.height/2|0,a=n+o,u=r+i;this.nodes[e.TOP_LEFT]=new this._classConstructor({x:n,y:r,width:o,height:i},t,this._maxDepth,this._maxChildren),this.nodes[e.TOP_RIGHT]=new this._classConstructor({x:a,y:r,width:o,height:i},t,this._maxDepth,this._maxChildren),this.nodes[e.BOTTOM_LEFT]=new this._classConstructor({x:n,y:u,width:o,height:i},t,this._maxDepth,this._maxChildren),this.nodes[e.BOTTOM_RIGHT]=new this._classConstructor({x:a,y:u,width:o,height:i},t,this._maxDepth,this._maxChildren)},e.prototype.clear=function(){this.children.length=0;var t,e=this.nodes.length;for(t=0;e>t;t++)this.nodes[t].clear();this.nodes.length=0},n.prototype=new e,n.prototype._classConstructor=n,n.prototype._stuckChildren=null,n.prototype._out=[],n.prototype.insert=function(t){if(this.nodes.length){var e=this._findIndex(t),n=this.nodes[e];return void(t.x>=n._bounds.x&&t.x+t.width<=n._bounds.x+n._bounds.width&&t.y>=n._bounds.y&&t.y+t.height<=n._bounds.y+n._bounds.height?this.nodes[e].insert(t):this._stuckChildren.push(t))}this.children.push(t);var r=this.children.length;if(!(this._depth>=this._maxDepth)&&r>this._maxChildren){this.subdivide();var o;for(o=0;r>o;o++)this.insert(this.children[o]);this.children.length=0}},n.prototype.getChildren=function(){return this.children.concat(this._stuckChildren)},n.prototype.retrieve=function(t){var n=this._out;if(n.length=0,this.nodes.length){var r=this._findIndex(t),o=this.nodes[r];t.x>=o._bounds.x&&t.x+t.width<=o._bounds.x+o._bounds.width&&t.y>=o._bounds.y&&t.y+t.height<=o._bounds.y+o._bounds.height?n.push.apply(n,this.nodes[r].retrieve(t)):(t.x<=this.nodes[e.TOP_RIGHT]._bounds.x&&(t.y<=this.nodes[e.BOTTOM_LEFT]._bounds.y&&n.push.apply(n,this.nodes[e.TOP_LEFT].getAllContent()),t.y+t.height>this.nodes[e.BOTTOM_LEFT]._bounds.y&&n.push.apply(n,this.nodes[e.BOTTOM_LEFT].getAllContent())),t.x+t.width>this.nodes[e.TOP_RIGHT]._bounds.x&&(t.y<=this.nodes[e.BOTTOM_RIGHT]._bounds.y&&n.push.apply(n,this.nodes[e.TOP_RIGHT].getAllContent()),t.y+t.height>this.nodes[e.BOTTOM_RIGHT]._bounds.y&&n.push.apply(n,this.nodes[e.BOTTOM_RIGHT].getAllContent())))}return n.push.apply(n,this._stuckChildren),n.push.apply(n,this.children),n},n.prototype.getAllContent=function(){var t=this._out;if(this.nodes.length){var e;for(e=0;e<this.nodes.length;e++)this.nodes[e].getAllContent()}return t.push.apply(t,this._stuckChildren),t.push.apply(t,this.children),t},n.prototype.clear=function(){this._stuckChildren.length=0,this.children.length=0;var t=this.nodes.length;if(t){var e;for(e=0;t>e;e++)this.nodes[e].clear();this.nodes.length=0}},t}();e["default"]=n,t.exports=e["default"]}).call(this)},function(t,e,n){(function(){"use strict";function t(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return function(n,r,o){return o.value=i["default"].throttle(o.value,t,e),o}}var r=n(9)["default"];Object.defineProperty(e,"__esModule",{value:!0});var o=n(33),i=r(o);e.throttle=t}).call(this)},function(t,e,n){(function(){"use strict";var r=n(92)["default"],o=n(39)["default"],i=n(277)["default"],a=n(9)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(53),s=a(u),c=n(33),l=a(c),f=n(156),p=n(72),h=a(p),d=n(101),v=a(d),y={map:"\n\n    - - - b - - - - - - - - - - - - - - - - - - - - - - - - w - - -\n    b - - b - - - w w - - - - - - - b - b - - - - - - - - - w - - -\n    - - - - - - - w w w - - - - - - - - - - - - - w w w - - w w - -\n    - - - b - - - w - - - - - - b - - - - - - - - w w w w - - w w -\n    - - - - - - - - - b - - - - - - - - - b - - - - w w - - - - w w\n    - - - - - - - - - - - - - - - - - - - - - - - - - w - - - - - -\n    - b - - - b - - - - - - - - - - - - - - - - - - - w - - - - - -\n    - - - - - - - - t - - - b b b - - - - - - - - w w w - b b b - -\n    - w - - - - - - - - - - - - - - - - - - - - - w - - - - - - - -\n    - - - - b b - - - - b - - - w w - - - - t - w w - - - - - - - -\n    - - - - - - - - - - - - w w - w - - - - - - w w - - - - - - - -\n    - - - - - - - - - - w w - w - - - - - w w w - - - - - - - b - -\n    - - w w - - - - - - - w w w - - - - w w w - - - - - t - - - - -\n    - - w w - - - - - b - - - - - - w w w w - - - - - - - - - t - -\n    - - - - - - - - - - - - - - - - w w w w w w - - - - - - - - - -\n    - - - - b b - - - - - - - b - - - w w w - - - - - - - - - - - -\n    - - - - b b - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n  ",getTiles:function(t){return y.buildWorld(y.sanitizeWorld(t))},getDimensions:function(t){var e=y.sanitizeWorld(t),n=e.split("\n");return{width:16*n[0].split("").length,height:16*n.length}},sanitizeWorld:function(t){return t.trim().split("\n").map(function(t){return t.trim().replace(/\s/g,"")}).join("\n")},buildWorld:function(t){var e=[];return s["default"].List().withMutations(function(n){t.split("\n").forEach(function(t,r){e[r]=[],t.split("").forEach(function(t,i){var a=o({},f.tileFromSymbol(t),{row:r,col:i,position:{x:16*i,y:16*r}});e[r][i]=a.type,n.push(s["default"].fromJS(a))})})}).map(function(t){var n=y.buildEdges(e,t);return n?t.set("edges",s["default"].fromJS(n)):t})},buildEdges:function(t,e){var n=v["default"][e.get("sprite")],o=h["default"].getIn.apply(null,[n].concat(r(e.get("path")),["edges"]));if(o){var a=function(){var n={};return l["default"].without(i(o),"_base","_animation").forEach(function(r){var o=y.getEdgesForType(t,e,r);o.length&&(n[r]=o)}),{v:l["default"].isEmpty(n)?null:n}}();if("object"==typeof a)return a.v}},getEdgesForType:function(t,e,n){var r=e.get("col"),o=e.get("row"),i=[{name:"s",x:r,y:o+1},{name:"n",x:r,y:o-1},{name:"w",x:r-1,y:o},{name:"e",x:r+1,y:o},{name:"nw",x:r-1,y:o-1},{name:"ne",x:r+1,y:o-1},{name:"sw",x:r-1,y:o+1},{name:"se",x:r+1,y:o+1}],a=i.filter(function(e){return e.x>=0&&e.y>=0&&t[e.y]}).filter(function(e){var r=t[e.y][e.x];return!!r&&r===n}).map(function(t){return t.name}),u=["nw","ne","sw","se"];u.forEach(function(t){var e=t.split("");(l["default"].includes(a,e[0])||l["default"].includes(a,e[1]))&&(a=l["default"].without(a,t))});var s=["naw","nae","saw","sae"],c=a.concat(s.filter(function(t){var e=t.split("a");return l["default"].includes(a,e[0])&&l["default"].includes(a,e[1])}));return c}};e["default"]=y,t.exports=e["default"]}).call(this)},function(t,e,n){(function(){"use strict";var t=n(9)["default"];Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),o=t(r),i=n(76),a=t(i),u=n(340),s=t(u),c=n(343),l=t(c),f=n(342),p=t(f),h=n(341),d=t(h),v=o["default"].createElement(i.Route,{path:"/",handler:s["default"]},o["default"].createElement(i.DefaultRoute,{handler:p["default"]}),o["default"].createElement(i.Route,{name:"game",handler:d["default"]}),o["default"].createElement(i.NotFoundRoute,{handler:l["default"]})),y=a["default"].create({routes:v,location:a["default"].HashLocation});e["default"]=y,e.routes=v,e.router=y}).call(this)},function(t,e,n){(function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={_base:{size:[16,16],url:"images/tiles/cliffs_water.png"},tiles:{water:{_base:{size:[8,8]},decorations:{bubbles0:{pos:[293,380]},bubbles1:{pos:[302,380]},bubbles2:{pos:[293,389]},bubbles3:{pos:[311,389]}}}}};e["default"]=n,t.exports=e["default"]}).call(this)},function(t,e,n){(function(){"use strict";var r=n(9)["default"];Object.defineProperty(e,"__esModule",{value:!0});var o=n(72),i=r(o),a={_base:{bounds:[16,16],size:[50,50],url:"images/sprites/link.png"},poses:{_base:{transform:"translate(0, -10px)"},walk:{_animation:{rest:3,start:3},north:{_frames:i["default"].generateFrames(7,"x",50,{pos:[50,100]})},south:{_frames:i["default"].generateFrames(7,"x",50,{pos:[50,50]})},east:{_frames:i["default"].generateFrames(7,"x",50,{pos:[50,150],transform:"translate(-2px, -10px)"})},west:{_frames:i["default"].generateFrames(7,"x",50,{pos:[50,150],transform:"translate(-1px, -10px)",flipH:!0})}},attack:{_animation:{rest:0,start:0,fps:24,snake:!1,loop:!1},north:{_frames:i["default"].generateFrames(9,"y",50,{pos:[100,300],transform:"translate(-13px, -23px)"})},south:{_animation:{fps:18},_frames:i["default"].generateFrames(6,"y",50,{pos:[50,300],transform:"translate(-4px, -5px)"})},east:{_frames:i["default"].generateFrames(9,"y",50,{pos:[150,300]})},west:{_frames:i["default"].generateFrames(9,"y",50,{pos:[150,300],flipH:!0})}}}};e["default"]=a,t.exports=e["default"]}).call(this)},function(t,e,n){(function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={_base:{size:[16,16],url:"images/tiles/overworld.png"},tiles:{grass:{_base:{background:"#4B974C"},decorations:{_base:{size:[8,8]},flower:{pos:[287,48]},spot:{pos:[240,39]}},edges:{_base:{bounds:[16,16]},water:{_base:{size:[8,8]},s:{off:[0,-0],size:[16,8],pos:[36,185]},n:{size:[16,8],pos:[36,227]},w:{size:[8,16],pos:[62,202]},e:{off:[-0,0],size:[8,16],pos:[18,202]},saw:{off:[0,-0],pos:[53,194]},sae:{off:[-0,-0],pos:[27,194]},naw:{pos:[53,218]},nae:{off:[-0,0],pos:[27,218]},nw:{pos:[53,227]},ne:{off:[-0,0],pos:[27,227]},sw:{off:[0,-0],pos:[53,185]},se:{off:[-0,-0],pos:[27,185]}}}},leaves:{_base:{pos:[253,57]}},bush:{_base:{pos:[304,57]}},water:{_base:{background:"#5A81BE"}},"tree-trunk":{_base:{background:"#6B976C",size:[32,32],pos:[349,83],transform:"translate(-50%, -50%)"}},tree:{_base:{background:"#4B974C",size:[64,82],pos:[375,206],transform:"scale(0.5) translate(-50%, -75%)"}}}};e["default"]=n,t.exports=e["default"]}).call(this)},function(t,e,n){(function(){"use strict";var r=n(278)["default"],o=n(14)["default"],i=n(279)["default"],a=n(92)["default"],u=n(9)["default"];Object.defineProperty(e,"__esModule",{value:!0});var s=n(155),c=u(s),l=n(33),f=u(l),p=n(53),h=u(p),d=n(205),v=u(d),y=n(344),g=u(y),m=n(345),_=n(156),b=n(346),w=u(b),x=n(99),E=u(x),C=function(){function t(){o(this,t),this.bindActions(E["default"]);var e=w["default"].getDimensions(w["default"].map);this.width=e.width,this.height=e.height,this.layers=h["default"].List([h["default"].fromJS({characters:[{position:{x:0,y:0},stepSize:2,sprite:"hero",facing:"south",pose:"walk",animated:!0,play:!1,actions:h["default"].Set(),hitboxes:{walk:[3,3,10,10],attack:{north:[0,-16,16,16],south:[0,32,16,16],east:[16,0,16,16],west:[-16,0,16,16]}}}],style:{zIndex:1}}),h["default"].fromJS({tiles:w["default"].getTiles(w["default"].map),style:{zIndex:0}})]),this.quadTrees=[]}return r(t,[{key:"onRenderLayer",value:function(t){var e=this,n=this.layers.get(t);if(n){if(this.quadTrees[t])this.quadTrees[t].tiles.clear(),this.quadTrees[t].characters.clear();else{var r={x:0,y:0,width:this.width,height:this.height};this.quadTrees[t]={},this.quadTrees[t].tiles=new g["default"](r,!1,8),this.quadTrees[t].characters=new g["default"](r,!1,8)}n.has("tiles")&&n.get("tiles").forEach(function(n,r){var o=n.get("position").toJS(),a=o.x,u=o.y,s=n.get("hitbox"),c=i(s,4),l=c[0],f=c[1],p=c[2],h=c[3];e.quadTrees[t].tiles.insert({layer:t,index:r,solid:n.get("solid"),destructable:n.get("destructable"),x:a+f,y:u+l,width:p,height:h,hitbox:new v["default"].Box(new v["default"].Vector(a+f,u+l),p,h).toPolygon()})}),n.has("characters")&&n.get("characters").forEach(function(n,r){var o=n.get("position").toJS(),a=o.x,u=o.y,s=n.getIn(["hitboxes","walk"]).toJS(),c=i(s,4),l=c[0],f=c[1],p=c[2],h=c[3];e.quadTrees[t].characters.insert({layer:t,index:r,x:a+f,y:u+l,width:p,height:h,hitbox:new v["default"].Box(new v["default"].Vector(a+f,u+l),p,h).toPolygon()})})}}},{key:"onStartWalk",value:function(t){this.setInHero("actions",this.getHero().get("actions").add("walk:"+t)),this.setInHero("play",!0),this.onWalk(t)}},{key:"onWalk",value:function(t){var e=this.getHero().toJS(),n=e.position,r=n.x,o=n.y,i=1===f["default"].intersection(e.actions,["walk:up","walk:down","walk:left","walk:right"]).length;"up"===t&&(o-=e.stepSize,i&&this.setInHero(["facing"],"north")),"down"===t&&(o+=e.stepSize,i&&this.setInHero(["facing"],"south")),"left"===t&&(r-=e.stepSize,i&&this.setInHero(["facing"],"west")),"right"===t&&(r+=e.stepSize,i&&this.setInHero(["facing"],"east")),this.validateMove(r,o)&&(this.setInHero(["position","x"],r),this.setInHero(["position","y"],o))}},{key:"onStopWalk",value:function(t){this.setInHero("actions",this.getHero().get("actions")["delete"]("walk:"+t)),this.getHero().get("actions").size||this.setInHero("play",!1)}},{key:"onStartAttack",value:function(){this.doAttack(),this.setInHero("actions",this.getHero().get("actions").add("attack")),this.setInHero("play",!0)}},{key:"doAttack",decorators:[m.throttle(100)],value:function(){var t=this,e=this.getHero(),n=e.get("facing"),r=e.get("position").toJS(),o=r.x,a=r.y,u=e.getIn(["hitboxes","attack",n]).toJS(),s=i(u,4),c=s[0],l=s[1],f=s[2],p=s[3],d=this.checkHitbox({x:o+c,y:a+l,width:f,height:p,property:"destructable"});d.forEach(function(e){var n=t.layers.getIn([e.layer,"tiles",e.index]).toJS(),r=h["default"].fromJS(t.mergeTiles(n,_.tileFromType(n.destructTo)));t.setInLayer([e.layer,"tiles",e.index],r)}),this.setInHero("pose","attack")}},{key:"onStopAttack",value:function(){this.setInHero("pose","walk"),this.setInHero("actions",this.getHero().get("actions")["delete"]("attack")),this.getHero().get("actions").size||this.setInHero("play",!1)}},{key:"getHero",value:function(){return this.layers.getIn([0,"characters",0])}},{key:"setInLayer",value:function(t,e){t=Array.isArray(t)?t:[t],this.layers=this.layers.setIn(t,e)}},{key:"setInHero",value:function(t,e){t=Array.isArray(t)?t:[t],this.setInLayer([0,"characters",0].concat(a(t)),e)}},{key:"validateMove",value:function(t,e){if(0>t)return!1;if(0>e)return!1;if(t>this.width-16)return!1;if(e>this.height-16)return!1;var n=this.getHero().getIn(["hitboxes","walk"]).toJS(),r=i(n,4),o=r[0],a=r[1],u=r[2],s=r[3],c=this.checkHitbox({x:t+o,y:e+a,width:u,height:s,property:"solid"},!0);return c.length?!1:!0}},{key:"checkHitbox",value:function(t,e){var n=this,r=t.x,o=t.y,i=t.width,a=t.height,u=t.property,s=arguments.length<=2||void 0===arguments[2]?1:arguments[2],c=["tiles","characters"],l=new v["default"].Box(new v["default"].Vector(r,o),i,a).toPolygon(),p=new v["default"].Response,h=[];return this.layers.forEach(function(t,d){c.forEach(function(t){if(n.quadTrees[d]&&n.quadTrees[d][t]){var c=n.quadTrees[d][t].retrieve({x:r,y:o,width:i,height:a});if(c.forEach(function(t){if((!e||!h.length)&&(!u||t[u])&&!f["default"].findWhere(h,{layer:t.layer,index:t.index})){var n=v["default"].testPolygonPolygon(l,t.hitbox,p);n&&(p.overlap>s&&h.push(t),p.clear())}}),e&&h.length)return!1}})}),h}},{key:"mergeTiles",value:function(t,e){return f["default"].extend(f["default"].pick(t,"col","row","position","edges"),e)}}]),t}();e["default"]=c["default"].createStore(C),t.exports=e["default"]}).call(this)},,,,,,,,,,,,,,,,function(t,e,n){"use strict";function r(t,e){var n=t[e];return n?h["default"](n)?n:[n]:[e]}var o=function(t){return t&&t.__esModule?t:{"default":t}},i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};Object.defineProperty(e,"__esModule",{value:!0});var a=n(8),u=o(a),s=n(161),c=o(s),l=n(162),f=o(l),p=n(55),h=o(p),d=n(34),v=o(d),y=n(303),g=o(y),m=n(154),_=o(m),b=u["default"].createClass({displayName:"HotKeys",mixins:[f["default"]()],propTypes:{onFocus:u["default"].PropTypes.func,onBlur:u["default"].PropTypes.func,focusName:u["default"].PropTypes.string,keyMap:u["default"].PropTypes.object,handlers:u["default"].PropTypes.object},contextTypes:{hotKeyParent:u["default"].PropTypes.any},childContextTypes:{hotKeyParent:u["default"].PropTypes.any},getChildContext:function(){return{hotKeyParent:this}},componentDidMount:function(){var t=n(369);this.__mousetrap__=new t(u["default"].findDOMNode(this.refs.focusTrap)),this.updateHotKeys(!0)},componentDidUpdate:function(t){this.updateHotKeys(!1,t)},componentWillUnmount:function(){this.context.hotKeyParent&&this.context.hotKeyParent.childHandledSequence(null),this.__mousetrap__.reset()},updateHotKeys:function(){var t=this,e=void 0===arguments[0]?!1:arguments[0],n=void 0===arguments[1]?{}:arguments[1],o=this.props.handlers,i=void 0===o?{}:o,a=n.handlers,u=void 0===a?i:a;if(e||!_["default"](i,u)||this.updateMap()){var s=this.getMap(),c=[],l=this.__mousetrap__;g["default"](i,function(e,n){var o=r(s,n);g["default"](o,function(n){var r=void 0,o=function(n,r){return t.__isFocused__&&r!==t.__lastChildSequence__?(t.context.hotKeyParent&&t.context.hotKeyParent.childHandledSequence(r),e(n,r)):void 0};v["default"](n)&&(r=n.action,n=n.sequence),c.push({callback:o,action:r,sequence:n})})}),l.reset(),g["default"](c,function(t){return l.bind(t.sequence,t.callback,t.action)})}},childHandledSequence:function(){var t=void 0===arguments[0]?null:arguments[0];this.__lastChildSequence__=t,this.context.hotKeyParent&&this.context.hotKeyParent.childHandledSequence(t)},onFocus:function(){if(this.__isFocused__=!0,this.props.onFocus){var t;(t=this.props).onFocus.apply(t,arguments)}},onBlur:function(){if(this.__isFocused__=!1,this.props.onBlur){var t;(t=this.props).onBlur.apply(t,arguments)}},render:function(){return u["default"].createElement(c["default"],i({ref:"focusTrap"},this.props,{onFocus:this.onFocus,onBlur:this.onBlur}),this.props.children)}});e["default"]=b,t.exports=e["default"]},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t};Object.defineProperty(e,"__esModule",{value:!0});var o=n(367);e.HotKeys=r(o);var i=n(161);e.FocusTrap=r(i);var a=n(162);e.HotKeyMapMixin=r(a)},function(t,e,n){var r;!function(o,i,a){function u(t,e,n){return t.addEventListener?void t.addEventListener(e,n,!1):void t.attachEvent("on"+e,n)}function s(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return w[t.which]?w[t.which]:x[t.which]?x[t.which]:String.fromCharCode(t.which).toLowerCase()}function c(t,e){return t.sort().join(",")===e.sort().join(",")}function l(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}function f(t){return t.preventDefault?void t.preventDefault():void(t.returnValue=!1)}function p(t){return t.stopPropagation?void t.stopPropagation():void(t.cancelBubble=!0)}function h(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function d(){if(!b){b={};for(var t in w)t>95&&112>t||w.hasOwnProperty(t)&&(b[w[t]]=t)}return b}function v(t,e,n){return n||(n=d()[t]?"keydown":"keypress"),"keypress"==n&&e.length&&(n="keydown"),n}function y(t){return"+"===t?["+"]:(t=t.replace(/\+{2}/g,"+plus"),t.split("+"))}function g(t,e){var n,r,o,i=[];for(n=y(t),o=0;o<n.length;++o)r=n[o],C[r]&&(r=C[r]),e&&"keypress"!=e&&E[r]&&(r=E[r],i.push("shift")),h(r)&&i.push(r);return e=v(r,i,e),{key:r,modifiers:i,action:e}}function m(t,e){return null===t||t===i?!1:t===e?!0:m(t.parentNode,e)}function _(t){function e(t){t=t||{};var e,n=!1;for(e in b)t[e]?n=!0:b[e]=0;n||(E=!1)}function n(t,e,n,r,o,i){var a,u,s=[],l=n.type;if(!y._callbacks[t])return[];for("keyup"==l&&h(t)&&(e=[t]),a=0;a<y._callbacks[t].length;++a)if(u=y._callbacks[t][a],(r||!u.seq||b[u.seq]==u.level)&&l==u.action&&("keypress"==l&&!n.metaKey&&!n.ctrlKey||c(e,u.modifiers))){var f=!r&&u.combo==o,p=r&&u.seq==r&&u.level==i;(f||p)&&y._callbacks[t].splice(a,1),s.push(u)}return s}function r(t,e,n,r){y.stopCallback(e,e.target||e.srcElement,n,r)||t(e,n)===!1&&(f(e),p(e))}function o(t){"number"!=typeof t.which&&(t.which=t.keyCode);var e=s(t);if(e)return"keyup"==t.type&&w===e?void(w=!1):void y.handleKey(e,l(t),t)}function a(){clearTimeout(m),m=setTimeout(e,1e3)}function d(t,n,o,i){function u(e){return function(){E=e,++b[t],a()}}function c(n){r(o,n,t),"keyup"!==i&&(w=s(n)),setTimeout(e,10)}b[t]=0;for(var l=0;l<n.length;++l){var f=l+1===n.length,p=f?c:u(i||g(n[l+1]).action);v(n[l],p,i,t,l)}}function v(t,e,r,o,i){y._directMap[t+":"+r]=e,t=t.replace(/\s+/g," ");var a,u=t.split(" ");return u.length>1?void d(t,u,e,r):(a=g(t,r),y._callbacks[a.key]=y._callbacks[a.key]||[],n(a.key,a.modifiers,{type:a.action},o,t,i),void y._callbacks[a.key][o?"unshift":"push"]({callback:e,modifiers:a.modifiers,action:a.action,seq:o,level:i,combo:t}))}var y=this;if(t=t||i,!(y instanceof _))return new _(t);y.target=t,y._callbacks={},y._directMap={};var m,b={},w=!1,x=!1,E=!1;y._handleKey=function(t,o,i){var a,u=n(t,o,i),s={},c=0,l=!1;for(a=0;a<u.length;++a)u[a].seq&&(c=Math.max(c,u[a].level));for(a=0;a<u.length;++a)if(u[a].seq){if(u[a].level!=c)continue;l=!0,s[u[a].seq]=1,r(u[a].callback,i,u[a].combo,u[a].seq)}else l||r(u[a].callback,i,u[a].combo);var f="keypress"==i.type&&x;i.type!=E||h(t)||f||e(s),x=l&&"keydown"==i.type},y._bindMultiple=function(t,e,n){for(var r=0;r<t.length;++r)v(t[r],e,n)},u(t,"keypress",o),u(t,"keydown",o),u(t,"keyup",o)}for(var b,w={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},x={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},E={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},C={option:"alt",command:"meta","return":"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},O=1;20>O;++O)w[111+O]="f"+O;for(O=0;9>=O;++O)w[O+96]=O;_.prototype.bind=function(t,e,n){var r=this;return t=t instanceof Array?t:[t],r._bindMultiple.call(r,t,e,n),r},_.prototype.unbind=function(t,e){var n=this;return n.bind.call(n,t,function(){},e)},_.prototype.trigger=function(t,e){var n=this;return n._directMap[t+":"+e]&&n._directMap[t+":"+e]({},t),n},_.prototype.reset=function(){var t=this;return t._callbacks={},t._directMap={},t},_.prototype.stopCallback=function(t,e){var n=this;return(" "+e.className+" ").indexOf(" mousetrap ")>-1?!1:m(e,n.target)?!1:"INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable},_.prototype.handleKey=function(){var t=this;return t._handleKey.apply(t,arguments)},_.init=function(){var t=_(i);for(var e in t)"_"!==e.charAt(0)&&(_[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},_.init(),o.Mousetrap=_,"undefined"!=typeof t&&t.exports&&(t.exports=_),r=function(){return _}.call(e,n,e,t),!(r!==a&&(t.exports=r))}(window,document)}]);